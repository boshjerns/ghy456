(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(11235)}])},11235:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return T}});var r=e(85893),i=e(9008),a=e(214),c=e.n(a),s=(e(54532),e(27948)),o=e(86886),u=function(){return(0,r.jsx)(s.Z,{width:"100%",children:(0,r.jsx)(o.ZP,{container:!0,justifyContent:"center",alignItems:"center"})})},l=e(28520),f=e.n(l),d=e(26447),h=e(69795),p=e(67294),m=e(6407),v=e(66242),x=e(44267),j=e(15861),w=e(62023),g=e(14151),y=e(83321),k=e(25675),P=function(t){var n=t.title,e=t.description,i=t.action,a=t.canMint,c=t.showNumToMint,s=t.setNumToMint,o=t.mintStatus;return(0,r.jsxs)(v.Z,{sx:{maxWidth:1e3,backgroundColor:"#ffffff80",borderRadius:"10px"},children:[(0,r.jsxs)(x.Z,{children:[(0,r.jsx)(j.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:n}),(0,r.jsx)(k.default,{alt:"sample NFT",src:"/bgbgbg.png",width:1500,height:500}),o?(0,r.jsx)("p",{children:"Success! Check your wallet in a few minutes."}):(0,r.jsx)("p",{children:e})]}),(0,r.jsxs)(w.Z,{children:[c&&(0,r.jsx)(g.Z,{onChange:function(t){var n=parseInt(t.target.value);s(n)},defaultValue:2,type:"number",label:"number to mint",sx:{mx:3}}),(0,r.jsx)(y.Z,{disabled:!a,onClick:i,variant:"contained",children:"Claim"})]})]})},S=e(40821),b=e(3283),C=e.n(b);function N(t,n,e,r,i,a,c){try{var s=t[a](c),o=s.value}catch(u){return void e(u)}s.done?n(o):Promise.resolve(o).then(r,i)}function Z(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var a=t.apply(n,e);function c(t){N(a,r,i,c,s,"next",t)}function s(t){N(a,r,i,c,s,"throw",t)}c(void 0)}))}}var _=function(){var t=new(C())(C().givenProvider),n=function(t){return fetch(t).then((function(t){return t.json()}))},e=(0,h.Ge)(),i=e.active,a=e.account,c=(e.chainId,(0,p.useState)(0)),s=(c[0],c[1]),u=(0,p.useState)(0),l=u[0],v=u[1],x=(0,p.useState)(!1),j=x[0],w=x[1],g=(0,p.useState)(),y=(g[0],g[1]),k=(0,p.useState)(),b=k[0],N=k[1],_=(0,p.useState)(),T=(_[0],_[1]),E=(0,p.useState)(2),F=E[0];E[1];(0,p.useEffect)((function(){function t(){return(t=Z(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.sampleNFT.methods.claimed(a).call({from:a}).then((function(t){w(t)})).catch((function(t){w(!1)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}i&&a?function(){t.apply(this,arguments)}():w(!1)}),[a]);var O=[],I=!1,G=(0,S.ZP)(i&&a?"/api/giftProof?address=".concat(a):null,{fetcher:n,revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});if(!G.error&&G.data){var M=G.data,W=M.proof,R=M.valid;O=W,I=R}(0,p.useEffect)((function(){function t(){return(t=Z(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.sampleNFT.methods.mintGift(O).call({from:a}).then((function(){s(2)})).catch((function(t){t.toString().includes("claimed")?s(1):s(0)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}i&&I?j?s(1):function(){t.apply(this,arguments)}():s(0)}),[O]);var A=[],X=!1,z=(0,S.ZP)(i&&a?"/api/whitelistProof?address=".concat(a):null,{fetcher:n,revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});if(!z.error&&z.data){var B=z.data,H=B.proof,L=B.valid;A=H,X=L}(0,p.useEffect)((function(){function n(){return(n=Z(f().mark((function n(){var e;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:"0",e=t.utils.toWei("0","ether"),m.sampleNFT.methods.mintWhitelist(A).call({from:a,value:e}).then((function(){v(2)})).catch((function(t){t.toString().includes("claimed")?v(1):v(0)}));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}i&&X?j?v(1):function(){n.apply(this,arguments)}():v(0)}),[A]);Z(f().mark((function t(){var n,e,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.mintGift)(a,O);case 2:n=t.sent,e=n.success,r=n.status,console.log(r),y(e);case 7:case"end":return t.stop()}}),t)})));var V=Z(f().mark((function t(){var n,e,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.mintWhitelist)(a,A);case 2:n=t.sent,e=n.success,r=n.status,console.log(r),N(e);case 7:case"end":return t.stop()}}),t)})));Z(f().mark((function t(){var n,e,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.mintPublic)(a,F);case 2:n=t.sent,e=n.success,r=n.status,console.log(r),T(e);case 7:case"end":return t.stop()}}),t)})));return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(d.Z,{id:"demo",children:[(0,r.jsx)("h2",{}),(0,r.jsx)(o.ZP,{container:!0,spacing:3,justifyContent:"center",alignItems:"center",children:(0,r.jsx)(o.ZP,{item:!0,children:(0,r.jsx)(P,{title:"",description:"Claim one CP:TLO NFT if you are an Artist in our first Community Photography Collection.  Cost: 0ETH + small gas fee for txn.",canMint:l,mintStatus:b,action:V})})})]})})};function T(){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.default,{id:"home",children:[(0,r.jsx)("title",{children:"web3-react with nft merkle tree minting scaffold"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("main",{className:c().main,children:[(0,r.jsx)("h1",{className:c().title,children:(0,r.jsx)("img",{src:"\\lov1.png",alt:"Avatar",width:"100%"})}),(0,r.jsx)(u,{}),(0,r.jsx)(_,{})]})]})}}},function(t){t.O(0,[838,774,888,179],(function(){return n=78581,t(t.s=n);var n}));var n=t.O();_N_E=n}]);